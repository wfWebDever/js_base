# 关于realtor-map页面性能、SEO质量分析

## 使用工具：

- [PageSpeed Insights](https://pagespeed.web.dev)
- 谷歌插件SEO Quake
- [Google Rich Results Test](https://search.google.com/test/rich-results)

## 性能分析
1.[使用PageSpeed Insights分析页面性能](https://pagespeed.web.dev/analysis/https-www-realtor-ca-map/du7wygetx0?form_factor=desktop)
- LCP: 页面最大内容元素加载时间。
  从上述分析来看，页面加载时间主要花费在谷歌地图的加载上，如果确实要解决这个问题，
  那么就考虑加一个左侧列表带图片那种的，只要这个图片的面积够大，且把首屏的图片放在preload优先加载，那么谷歌评定这个页面最大元素加载时间就会缩短，
  但是会引申另一个问题，这些房源图片的大小如果太小 质量就不好会模糊，如果太大，那么页面加载时间就会变长，所以这个方案需要权衡。---开发优先级低
- INP: 用户互动的总体响应情况。
这个跟页面的加载速度也有关系 从分析来看PC 端和移动端都显示good，所以这个指标暂时可以忽略。
- CLS: 累积布局偏移。
移动端 地图底部的`id="MapLegalFooter"` 使用绝对定位导致页面布局偏移。解决方案去掉绝对定位，中间地图区域使用`flex: 1 1 auto`。---开发优先级低

2.接下来分析页面加载的各个资源

- 好的方面
    - 入口html文件大小没问题 没有超过50K，而且也设置了`no-cache`。
    - 静态资源包括CSS JS 图片等，使用Gzip压缩。

- 需要改进的方面
    - 静态资源包括CSS JS 图片等，使用CDN,这个可以在部署阶段通过jenkins脚本推送打包后的CSS JS 图片等文件到CDN地址上。---开发优先级高 耗时大约1天
    - 预加载`<link rel="preload">`的CSS文件有3个，为了加速页面加载，可以考虑将CSS文件合并成一个文件，减少请求数量。---开发优先级中等
    - 我看到JS有一个比较大的文件 比如desktop.js 我猜测是PC电脑端的所有JS打包成一个文件， 大约有500K，这个文件可以考虑拆分成多个文件，比如把第三方库单独打包一个文件，结合CDN后，这类文件变化很少，一般情况后再次请求会有缓存，
        其他的比如header 、footer、sidebar、search 可以单独打包 后续更新打包后的代码，可以做到不重新请求所有未变化的JS文件。---开发优先级高
    - font字体文件需要 `preload` 而且加上`display: 'swap'` ---开发优先级高

## SEO报告
1.待改进
- 页面不是响应式页面，需要开发响应式页面(谷歌搜索喜欢响应式页面)。---开发优先级中等,但开发时间长
- 页面没有H1标签。---开发优先级高。
- header中没有设置`og:xxx`分享标签。---开发优先级低
- URL太长，可以考虑缩短。---开发优先级中等
- 页面URL不够友好，比如search中搜索0-10000区间的房子出售可以加个`/under-10000-for-sale`。---开发优先级中等
- 缺少内链，比如添加多种搜索结果页面中。---开发优先级高
- 最好添加一下FAQ页面。---开发优先级低
- 没有schema标记。---开发优先级高
- 图片没有alt标签。---开发优先级高

2.已具备的
- 多语言设置没问题 canonical alternate。
- 使用sitemap.xml和robots.txt。


