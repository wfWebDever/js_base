<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
    <style type="text/css">
        table{text-align:center;}
    </style>
</head>
<body>
<table>
   <tr>
        <td>
            <select id="first" name="left" size="6" multiple="multiple">
                <option value="xuxiang1">选项一</option>
                <option value="xuxiang2">选项二</option>
                <option value="xuxiang3">选项三</option>
                <option value="xuxiang4">选项四</option>
                <option value="xuxiang5">选项五</option>
                <option value="xuxiang6">选项六</option>
            </select>
        </td>
        <td>
            <button id="right" value=">">></button><br/>
            <button id="rightall" value=">">>></button><br/>
            <button id="left" value=">"><</button> <br/>
            <button id="leftall" value=">"><<</button>
        </td>
       <td>
           <select name="right" size="6" id="second" multiple="multiple">



           </select>
       </td>
    </tr>
	</table>
<script type="text/javascript">
    window.onload=function(){
        /*右移*/
        document.getElementById("right").onclick=function(){
            var selectElement=document.getElementById("first");
            //alert(selectElement.selectedIndex);
            var optionElement= selectElement.getElementsByTagName("option") ;
            var len=optionElement.length;
            //seclond
            var secondSelectElement=document.getElementById("second");
            for(var i=0;i<len;i++){//不能用optionElement.length，因为optionElement是动态变化了，长度就变小了。当i=3,i<3,就不会执行了,
                                    //  所以用这个属性的话，当全部选中右移的话，会剩下几个。
                //第一种方法
                /*if(selectElement.selectedIndex==i){
                    var ele=optionElement[i];
                    secondSelectElement.add(ele,null);  //add()方法即便选中多个，一次只能选到右边一个。
                }*/
                if(selectElement.selectedIndex!=-1){
                    secondSelectElement.appendChild(optionElement[selectElement.selectedIndex]) ;
                }
            }
        }
        /*左移*/
        document.getElementById("left").onclick=function(){
            var selectElement=document.getElementById("second");
            var optionElement=selectElement.getElementsByTagName("option");
            var len=optionElement.length;
            var firstSelectElement=document.getElementById("first");
            for(var i=0;i<len;i++){
                if(selectElement.selectedIndex!=-1){
                  firstSelectElement.appendChild(optionElement[selectElement.selectedIndex]);
                }
            }
        }
		/*全部右移*/
		document.getElementById("rightall").onclick=function(){
            var selectElement=document.getElementById("first");
            var len=selectElement.length;
            var secondSelectElement=document.getElementById("second");
            for(var i=0;i<len;i++){
               // secondSelectElement.appendChild(selectElement[0]);
                secondSelectElement.add(selectElement[0],null) ;//这地方【】不能写i,不然第一次会取到1 3 5项。
                //alert(selectElement.length);
                //alert(len);
            }
        }
        //double click _add
        document.getElementById("first").ondblclick=function(){
            //alert(this.selectedIndex);
            document.getElementById("second").add(this[this.selectedIndex],null) ;
        }
        //double click_remove
        document.getElementById("second").ondblclick=function(){
            document.getElementById("first").add(this[this.selectedIndex],null) ;
        }
    }
</script>
</body>
</html>